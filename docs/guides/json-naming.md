# Правила организации и нейминга JSON в проекте

Соглашения по структуре файлов данных, именованию ключей и формату значений. Данные используются в Twig ([twig-naming.md](twig-naming.md)) и частично в JS; нейминг контента согласован с [html-naming.md](html-naming.md).

---

## 1. Структура каталогов и файлов

| Путь / каталог                | Назначение                                                                      | Примеры файлов                                                |
| ----------------------------- | ------------------------------------------------------------------------------- | ------------------------------------------------------------- |
| **data/json/global.json**     | Глобальные данные: навигация, форма, футер, тексты компонентов, мультиязычность | —                                                             |
| **data/json/ru/**             | Данные на языке (ru, en, …)                                                     | —                                                             |
| **data/json/ru/pages/**       | Данные страниц: секции и контент                                                | `index.json`, `contacts.json`, `restaurants.json`, `404.json` |
| **data/json/ru/seo/**         | SEO-данные по страницам                                                         | `index.json`, `contacts.json`, `policy.json`                  |
| **data/json/ru/restaurants/** | Данные по ресторанам (карточки, детали)                                         | `italy-bolshoy.json`, `salone-pasta-bar.json`                 |

Имена файлов — **kebab-case**; для страниц и сущностей совпадают с идентификаторами маршрутов или слагов: `restaurants-list.json`, `salone-pasta-bar-moscow.json`.

---

## 2. Именование ключей

### Общее правило

- **Ключи объектов** — в **kebab-case** для имён блоков, секций и компонентов: `form-callback`, `cookie-panel`, `content-container`.
- **Поля контента и данные элементов** — **snake_case** или **kebab-case** единообразно внутри одного уровня; в проекте часто: `lang_code`, `request_id`, а для полей карточек/секций — **camelCase** в части структур (например, `slidesPerView` в настройках слайдера) или **snake_case** — по контракту API/компонента.

Рекомендация по уровням:

| Уровень          | Стиль ключей              | Примеры                                                                       |
| ---------------- | ------------------------- | ----------------------------------------------------------------------------- |
| Имя секции/блока | kebab-case                | `form-callback`, `header`, `intro`, `form-container`                          |
| Поля контента    | snake_case или kebab-case | `heading`, `title`, `subtitle`, `desc`, `label`, `placeholder`, `current_url` |
| Языковые ключи   | 2 символа                 | `ru`, `en` (в объектах вида `label.ru`, `placeholder[lang_code]`)             |
| Служебные/API    | по контракту              | `request_id`, `requestId` — единообразно в одном файле/эндпоинте              |

### Единый набор слов для контента

Использовать согласованные имена (см. [html-naming.md](html-naming.md)):

| Ключ            | Назначение                                              |
| --------------- | ------------------------------------------------------- |
| **heading**     | Заголовок блока/секции (объект с tag, class, title)     |
| **headline**    | Крупный слоган/строка                                   |
| **subheading**  | Подзаголовок секции                                     |
| **subtitle**    | Подзаголовок карточки/элемента                          |
| **title**       | Название, заголовок элемента (карточки, кнопки, ссылки) |
| **desc**        | Описание, поясняющий текст                              |
| **name**        | Имя (страницы, секции, сайта)                           |
| **label**       | Подпись к полю или элементу                             |
| **placeholder** | Плейсхолдер поля ввода                                  |
| **link**        | Ссылка (объект с title, href)                           |
| **content**     | Обёртка/текст основного контента                        |

---

## 3. Структура страницы (pages/\*.json)

- **Корень:** объект с полями **`name`** (идентификатор страницы) и **`sections`** (массив секций).
- **Секция:** объект с полями:
  - **`name`** — имя секции в **kebab-case**, соответствует имени twig-файла секции: `header`, `intro`, `headline`, `form-container`, `footer`.
  - **`visible`** — boolean, показывать ли секцию.
  - **`data`** — объект с контентом секции; структура зависит от секции (slider, heading, items, cards и т.д.).

Пример:

```json
{
  "name": "index",
  "sections": [
    { "name": "header", "visible": true, "data": {} },
    { "name": "intro", "visible": true, "data": { "slider": { "id": "introSlider", "items": [...] } } },
    { "name": "footer", "visible": true, "data": { "form": { "heading": "..." } } }
  ]
}
```

---

## 4. Глобальные данные (global.json)

- В корне — блоки по **имени компонента/секции в kebab-case**: навигация, форма обратного звонка, футер, cookie-panel, аккордеон, бургер и т.д.
- Мультиязычные тексты — вложенность по коду языка: **`form-callback.label.ru`**, **`form-callback.placeholder[lang_code]`** в Twig; в JSON — объекты с ключами `ru`, `en`.
- Пути к ресурсам (изображения, иконки) — относительные от корня проекта: `data/img/...`, `data/img/ui/...`.

Структура блока формы (пример): **`form-callback`** с вложенными **placeholder**, **label**, **rules**, **error**, **button** по языкам.

---

## 5. Формат и стиль записи

- **JSON без комментариев** — стандартный JSON не поддерживает комментарии; справочная информация — в гайдах и схеме.
- **Пробелы:** отступ 2 пробела для читаемости в исходниках.
- **Строки:** в кавычках двойные **`"`**; экранирование спецсимволов по стандарту JSON.
- **Числа и булевы:** без кавычек; числа — без ведущего нуля.

---

## 6. Идентификаторы и id для UI

- Уникальные id слайдеров, контейнеров задаются в данных секции в **camelCase**: **`slider.id": "introSlider"`** — и выводятся в Twig в атрибут `id`.
- Имена секций и блоков для Twig/HTML — **kebab-case**; id элементов — **camelCase** (см. [html-naming.md](html-naming.md)).

---

## 7. Валидация и консистентность

- Имена секций в **sections[].name** должны совпадать с именами файлов в `templates/sections/*.twig`.
- Ключи в **global** для компонентов должны совпадать с именами компонентов (kebab-case) и с обращением в Twig: `global['form-callback']`.
- При добавлении новой секции или блока — единая схема: имя в kebab-case, структура `data` по соглашению для этого типа блока.

---

## Краткая шпаргалка

| Сущность           | Формат / правило                                                              |
| ------------------ | ----------------------------------------------------------------------------- |
| Имена файлов       | kebab-case (index.json, restaurants-list.json, salone-pasta-bar.json)         |
| Имя секции         | name в kebab-case, соответствие файлу sections/name.twig                      |
| Блоки в global     | Ключи в kebab-case: form-callback, cookie-panel, accordion                    |
| Поля контента      | heading, title, desc, label, placeholder, subheading, subtitle (единый набор) |
| Языки              | Ключи ru, en в объектах текстов                                               |
| id для UI          | В данных в camelCase: introSlider, formCallbackPhone                          |
| Структура страницы | name + sections[] (name, visible, data)                                       |

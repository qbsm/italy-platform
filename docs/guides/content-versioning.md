# Версионирование и изменения контента в JSON

Подход к истории изменений и откату контента в `data/json/`.

## Варианты

### 1. Git как история изменений

- Все изменения в `data/json/` коммитить в репозиторий.
- Откат: `git checkout -- data/json/ru/pages/contacts.json` или восстановление коммита.
- Плюсы: одна система версий для кода и контента, просмотр diff.
- Минусы: при частых правках контента не-разработчиками нужен процесс (например, редактирование через CI или отдельный workflow).

### 2. Ручные копии перед правками

- Перед массовыми или рискованными изменениями копировать каталог (например `data/json/` → `data/json.backup-YYYY-MM-DD/`) или нужные файлы.
- Откат: подмена файлов из копии.
- Подходит для редких правок без Git.

### 3. Снапшоты на уровне хостинга/ФС

- Регулярные снимки диска или каталога с контентом (см. [backup-policy.md](backup-policy.md)).
- Откат: восстановление из снапшота за выбранную дату.

### 4. Гибрид

- Git для структуры и важных правок, плюс суточные бэкапы (файловые или снапшоты) для быстрого восстановления на любую дату.

## Рекомендация для проекта

- Использовать **Git** для `data/json/`: осмысленные коммиты с сообщениями (например, «Обновлены контакты», «Добавлен ресторан X»).
- При необходимости отката — `git log -- data/json/`, затем `git checkout <commit> -- data/json/...` для нужных файлов.
- Дополнительно: автоматические бэкапы по [backup-policy.md](backup-policy.md) для восстановления на дату вне Git.

# Lazy loading изображений

Правило: **все изображения ниже первого экрана** должны загружаться с `loading="lazy"`, чтобы не блокировать LCP и не тратить трафик на невидимый контент.

## Как поддерживать

### 1. При добавлении нового изображения

- **`picture.twig`** — по умолчанию уже `loading="lazy"`. Для hero/LCP (первый экран) передавайте явно `loading="eager"`.
- **Обычный `<img>`** в шаблоне — всегда добавляйте атрибут:
  - контент ниже первого экрана → `loading="lazy"`;
  - логотип в шапке, главное фото в hero, прелоад → без атрибута или `loading="eager"`.

### 2. Чеклист при ревью/аудите

- Найти все вхождения: `include 'components/picture.twig'`, `<img` в `templates/`.
- У каждого `<img>` проверить наличие `loading="lazy"` или `loading="eager"` (для above-the-fold).
- У вызовов `picture.twig` для hero-секций проверить, что передаётся `loading="eager"`.

### 3. Где не ставить lazy

- Логотип в header, favicon, OG-изображение.
- Изображение, которое является LCP-элементом страницы (часто hero или первый крупный баннер).
- Любой контент, видимый без прокрутки на типичном экране.

### 4. Периодическая проверка

При изменении вёрстки или добавлении новых секций — быстрый поиск по репозиторию:

```bash
rg '<img' templates/ --type-add 'twig:*.twig' -t twig
```

Проверить, что у каждого результата есть `loading="lazy"` или осознанное `loading="eager"`.
